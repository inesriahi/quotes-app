(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[4],{44:function(e,t,c){e.exports={comments:"Comments_comments__3iNJv"}},45:function(e,t,c){e.exports={form:"NewCommentForm_form__2RijL",loading:"NewCommentForm_loading__3LBQi",control:"NewCommentForm_control__GNmP7",actions:"NewCommentForm_actions__2e-vr"}},46:function(e,t,c){e.exports={item:"CommentItem_item__134dN"}},47:function(e,t,c){e.exports={comments:"CommentsList_comments__UuXeG"}},48:function(e,t,c){e.exports={quote:"HighlightedQuote_quote__3qbf5"}},53:function(e,t,c){"use strict";c.r(t),c.d(t,"default",(function(){return w}));var n=c(0),s=c(2),o=c(8),r=c(37),a=c(35),m=c(36),i=c(44),j=c.n(i),d=c(15),l=c(45),u=c.n(l),b=c(1),x=function(e){var t=Object(a.a)(m.a),c=t.status,s=t.error,o=t.sendRequest,r=Object(n.useRef)(),i=e.onAddComment;Object(n.useEffect)((function(){"completed"!==c||s||i()}),[c,s,i]);var j=function(t){t.preventDefault(),o({commentData:{text:r.current.value},quoteId:e.quoteId})};return Object(b.jsxs)("form",{className:u.a.form,onSubmit:j,children:["pending"===c&&Object(b.jsx)("div",{className:"centered",children:Object(b.jsx)(d.a,{})}),Object(b.jsxs)("div",{className:u.a.control,onSubmit:j,children:[Object(b.jsx)("label",{htmlFor:"comment",children:"Your Comment"}),Object(b.jsx)("textarea",{id:"comment",rows:"5",ref:r})]}),Object(b.jsx)("div",{className:u.a.actions,children:Object(b.jsx)("button",{className:"btn",children:"Add Comment"})})]})},O=c(46),h=c.n(O),f=function(e){return Object(b.jsx)("li",{className:h.a.item,children:Object(b.jsx)("p",{children:e.text})})},p=c(47),N=c.n(p),_=function(e){return Object(b.jsx)("ul",{className:N.a.comments,children:e.comments.map((function(e){return Object(b.jsx)(f,{text:e.text},e.id)}))})},v=function(e){var t,c=Object(n.useState)(!1),o=Object(r.a)(c,2),i=o[0],l=o[1],u=Object(a.a)(m.c,!0),O=u.status,h=u.error,f=u.data,p=u.sendRequest,N=Object(s.j)().quoteId;Object(n.useEffect)((function(){p(N)}),[p,N,i]),"pending"===O?t=Object(b.jsx)("div",{className:"centered",children:Object(b.jsx)(d.a,{})}):"completed"===O&&f&&f.length>0?t=Object(b.jsx)(_,{comments:f}):h?t=Object(b.jsx)("div",{className:"centered focused",children:Object(b.jsx)("p",{children:"Error Loading Comments!"})}):"completed"!==O||f&&0!==f.length||(t=Object(b.jsx)("div",{className:"centered",children:Object(b.jsx)("p",{children:"No comments yet!"})})),console.log(f);var v=Object(n.useCallback)((function(){l(!1)}),[]);return Object(b.jsxs)("section",{className:j.a.comments,children:[Object(b.jsx)("h2",{children:"User Comments"}),!i&&Object(b.jsx)("button",{className:"btn",onClick:function(){l(!0)},children:"Add a Comment"}),i&&Object(b.jsx)(x,{quoteId:N,onAddComment:v}),t]})},C=c(48),g=c.n(C),q=function(e){return Object(b.jsxs)("figure",{className:g.a.quote,children:[Object(b.jsx)("p",{children:e.text}),Object(b.jsx)("figcaption",{children:e.author})]})};function w(e){var t=Object(a.a)(m.e,!0),c=t.status,r=t.data,i=t.error,j=t.sendRequest,l=Object(s.k)(),u=Object(s.j)().quoteId;return Object(n.useEffect)((function(){j(u)}),[j,u]),"pending"===c?Object(b.jsx)("div",{className:"centered",children:Object(b.jsx)(d.a,{})}):i?Object(b.jsx)("div",{className:"centered focused",children:Object(b.jsx)("p",{children:i})}):r.text?Object(b.jsxs)("div",{children:[Object(b.jsx)(q,{author:r.author,text:r.text}),Object(b.jsx)(s.c,{path:l.path,exact:!0,children:Object(b.jsx)("div",{className:"centered",children:Object(b.jsx)(o.b,{className:"btn--flat",to:"".concat(l.url,"/comments"),children:"Load Comments"})})}),Object(b.jsx)(s.c,{path:"".concat(l.path,"/comments"),children:Object(b.jsx)(v,{quoteId:u})})]}):Object(b.jsx)("p",{children:"No Quote Found!"})}}}]);
//# sourceMappingURL=4.db876295.chunk.js.map